<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday Facil 🎂</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}
    body{
      background:radial-gradient(circle at top,#0d47a1,#000);
      color:white;text-align:center;
      overflow-x:hidden;min-height:100vh;
      padding:50px 20px;
      animation:fadeIn 1s ease-in-out;
    }
    h1{font-size:2.8rem;color:#90caf9;text-shadow:0 0 15px #42a5f5;animation:glow 2s infinite alternate;}
    h2{font-weight:400;color:#e3f2fd;margin-bottom:30px;}
    .countdown{
      background:rgba(255,255,255,0.1);backdrop-filter:blur(15px);
      border-radius:20px;padding:25px;max-width:650px;margin:0 auto 40px;
      box-shadow:0 10px 25px rgba(0,0,0,0.5);
    }
    .countdown h3{font-size:1.3rem;margin-bottom:20px;color:#90caf9;}
    .timer{display:flex;justify-content:center;gap:25px;flex-wrap:wrap;}
    .time-box{
      background:rgba(255,255,255,0.15);
      padding:15px 25px;border-radius:15px;min-width:100px;
      box-shadow:0 0 20px rgba(66,165,245,0.4);
      animation:float 3s ease-in-out infinite;
    }
    .time-box span{display:block;font-size:2rem;font-weight:bold;color:#bbdefb;}
    .time-box p{margin-top:5px;font-size:.9rem;color:#e3f2fd;}
    .quote{margin-top:15px;color:#b0bec5;font-style:italic;font-size:.95rem;}
    .message-card{
      width:420px;background:linear-gradient(135deg,#1565c0,#42a5f5);
      color:#fff;padding:25px 30px;border-radius:20px;
      margin:50px auto 20px;
      box-shadow:0 10px 25px rgba(33,150,243,0.4);
      animation:fadeInUp 1.5s ease;
    }
    .cards{display:flex;justify-content:center;flex-wrap:wrap;gap:20px;margin-top:40px;}
    .card{
      background:rgba(255,255,255,0.1);padding:25px;border-radius:20px;
      width:200px;height:170px;display:flex;flex-direction:column;
      align-items:center;justify-content:center;
      box-shadow:0 0 20px rgba(66,165,245,0.3);
      transition:.3s ease;cursor:pointer;
    }
    .card:hover{transform:scale(1.05);box-shadow:0 0 25px #42a5f5;}
    .card span{font-size:2rem;margin-bottom:10px;}
    .card h4{color:#90caf9;font-size:1rem;}

    .gallery{
      margin-top:60px;display:none;opacity:0;
      transition:opacity 1s ease;
    }
    .gallery.show{display:block;opacity:1;}
    .gallery h3{margin-bottom:20px;color:#90caf9;font-size:1.5rem;text-shadow:0 0 10px #42a5f5;}
    .gallery-container{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;}
    .gallery-item{position:relative;display:inline-block;}
    .gallery-item img{width:200px;height:200px;object-fit:cover;border-radius:15px;box-shadow:0 0 20px rgba(33,150,243,0.4);transition:transform .3s ease;cursor:pointer;}
    .gallery-item img:hover{transform:scale(1.1);}
    .delete-btn{position:absolute;top:5px;right:5px;background:red;color:white;border:none;border-radius:50%;width:25px;height:25px;cursor:pointer;display:none;}
    .gallery-item:hover .delete-btn{display:block;}

    .admin-login{margin-top:40px;background:rgba(255,255,255,0.08);padding:20px;border-radius:15px;max-width:400px;margin-left:auto;margin-right:auto;box-shadow:0 0 20px rgba(33,150,243,0.3);}
    .admin-login input{width:80%;padding:10px;margin-bottom:10px;border-radius:10px;border:none;outline:none;text-align:center;}
    .admin-login button{padding:10px 25px;border:none;background:#42a5f5;color:white;border-radius:25px;cursor:pointer;transition:background .3s ease;}
    .admin-login button:hover{background:#1e88e5;}
    input[type="file"]{display:none;}
    .upload-label,.save-btn{background:#42a5f5;color:white;padding:10px 20px;border-radius:25px;cursor:pointer;margin:10px;display:inline-block;transition:.3s ease;}
    .upload-label:hover,.save-btn:hover{background:#1e88e5;}
    .footer{margin-top:40px;color:#90caf9;font-size:.9rem;}
    .popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;z-index:999;display:none;}
    .popup img{max-width:90%;max-height:80%;border-radius:15px;box-shadow:0 0 25px #42a5f5;}

    /* Cake Section */
    .cake-section{
      display:none;margin-top:40px;animation:fadeIn 1s ease;
    }
    .cake{position:relative;margin:0 auto;width:200px;height:120px;}
    .cake .base{position:absolute;bottom:0;width:200px;height:80px;background:#ffb74d;border-radius:0 0 15px 15px;box-shadow:0 5px 20px rgba(0,0,0,0.4);}
    .cake .icing{position:absolute;bottom:70px;width:200px;height:20px;background:#ffe082;border-radius:15px 15px 0 0;}
    .candle{position:absolute;top:10px;left:calc(50% - 7px);width:14px;height:40px;background:#1976d2;border-radius:3px;cursor:pointer;}
    .flame{position:absolute;top:-18px;left:2px;width:10px;height:20px;background:radial-gradient(circle,#ffca28 40%,rgba(255,152,0,0.1));border-radius:50%;animation:flameFlicker .2s infinite alternate;display:none;}
    .sparkle{position:absolute;width:5px;height:5px;background:rgba(255,255,255,0.8);border-radius:50%;animation:sparkle 1s infinite ease-in-out;display:none;}

    .confetti {
      position: fixed;
      top: 0;
      width: 10px;
      height: 10px;
      opacity: 0.9;
      border-radius: 50%;
      animation: fall linear forwards;
      z-index: 9999;
    }

    @keyframes fall { to { transform: translateY(110vh) rotate(720deg); opacity: 0; } }
    @keyframes flameFlicker{from{transform:scaleY(1)}to{transform:scaleY(1.2)}}
    @keyframes sparkle{0%,100%{transform:translateY(0) scale(1);opacity:1;}50%{transform:translateY(-10px) scale(1.3);opacity:0.5;}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    @keyframes glow{from{text-shadow:0 0 10px #42a5f5}to{text-shadow:0 0 25px #90caf9}}
  </style>
</head>
<body>

  <h1>🎉 Happy 19th Birthday, Facil! 🎉</h1>
  <h2>Born on October 17, 2006 ✨</h2>

  <!-- Countdown -->
  <div class="countdown">
    <h3>🎂 Countdown to Next Birthday 🎂</h3>
    <div class="timer" id="timer">
      <div class="time-box"><span id="days">00</span><p>Days</p></div>
      <div class="time-box"><span id="hours">00</span><p>Hours</p></div>
      <div class="time-box"><span id="minutes">00</span><p>Minutes</p></div>
      <div class="time-box"><span id="seconds">00</span><p>Seconds</p></div>
    </div>
    <p class="quote">✨ Until another year of magic begins ✨</p>
  </div>

  <!-- Birthday Message -->
  <div class="message-card">
    <h3>💙 A Birthday Message from Zia 💙</h3>
    <p>
Happy Birthday, Facil 🎂<br>
Semoga setiap langkah kamu selalu dipenuhi keberkahan, kebahagiaan, dan kesuksesan.<br>
Terus jadi pribadi yang kuat, sabar, dan selalu bisa bikin orang di sekitar kamu ngerasa nyaman dan tenang.<br>
You deserve all the good things in life 🌟<br><br>
Maaf yaa aku ga bisa ada di Cirebon hari ini, jadi cuma bisa ngucapin lewat sini.<br>
Tapi ini bukan ucapan biasa kok.. ini aku bikinin sendiri, di sela-sela PK 😭<br>
Kalo kamu inget tanggal 7 Oktober aku sempet chat “lagi ngoding”, nah… ini yang aku maksud 😆<br><br>
Makasii udah nyempetin waktu buat main ke rumah, ketemu mamahku, ngajak aku jalan-jalan, dan selalu bikin suasananya jadi seru (dan somehow tenang juga).<br>
Kamu tu punya cara sendiri buat bikin orang di sekitar kamu ngerasa dihargain dan aku bersyukur banget pernah (dan masih) jadi salah satu orang yang ngerasain itu 💙<br><br>
Semoga tahun ini bawa lebih banyak hal baik buat kamu.. rezeki yang lancar, mimpi yang makin deket, dan hati yang selalu tenang.<br>
Jangan lupa jaga diri, jangan terlalu keras sama diri sendiri, dan terus percaya kalo kamu bisa ngelewatin apa pun yang datang.<br><br>
Tetap jadi kamu yang versi terbaik (kadang nyebelin, kadang lucu, tapi selalu tulus).<br>
Happy birthday once again, Facil 💫<br>
Semoga langit hari ini pun ikut senyum buat kamu ☁️✨<br><br>— Ziaa 💫
    </p>
  </div>

  <!-- Action Cards -->
  <div class="cards">
    <div class="card" id="lightCandle"><span>🎂</span><h4>Light Candles</h4></div>
    <div class="card" id="galleryCard"><span>📸</span><h4>Memory Gallery</h4></div>
    <div class="card" id="sparkles"><span>✨</span><h4>Make Sparkles</h4></div>
  </div>

  <!-- Cake Section -->
  <div class="cake-section" id="cakeSection">
    <h3>🕯 Click the candle to light or blow it out!</h3>
    <div class="cake">
      <div class="base"></div>
      <div class="icing"></div>
      <div class="candle" id="candle">
        <div class="flame" id="flame"></div>
      </div>
    </div>
  </div>

  <!-- Memory Gallery -->
  <div class="gallery" id="gallerySection">
    <h3>📸 Memory Gallery</h3>
    <div class="gallery-container" id="galleryContainer"></div>

    <div class="admin-login" id="adminLogin">
      <h4>🔐 Admin Login</h4>
      <input type="password" id="adminPass" placeholder="Enter Admin Password">
      <br>
      <button id="loginBtn">Login</button>
    </div>

    <label for="fileUpload" class="upload-label" id="uploadLabel" style="display:none;">Upload Photo</label>
    <input type="file" id="fileUpload" accept="image/*" multiple />
    <button class="save-btn" id="saveBtn" style="display:none;">Save to Gallery</button>
  </div>

  <!-- Audio -->
  <audio id="birthdayMusic" src="lagu.mp3" loop></audio>

  <!-- Music Play Button Fallback -->
  <button id="playMusicBtn" style="position:fixed;top:10px;right:10px;padding:10px 15px;background:#42a5f5;color:white;border:none;border-radius:10px;cursor:pointer;z-index:1000;">▶ Play Musik</button>

  <div class="footer">Made with 💙 by Zia</div>

  <div class="popup" id="popup">
    <img src="" id="popupImg" alt="">
  </div>

  <script>
    // COUNTDOWN
    const nextBirthday = new Date("October 17, 2025 00:00:00").getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const distance = nextBirthday - now;
      const d = Math.floor(distance / (1000 * 60 * 60 * 24));
      const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const s = Math.floor((distance % (1000 * 60)) / 1000);
      document.getElementById("days").textContent = d;
      document.getElementById("hours").textContent = h;
      document.getElementById("minutes").textContent = m;
      document.getElementById("seconds").textContent = s;
    }, 1000);

    // CANDLE
    const cakeSection = document.getElementById("cakeSection");
    const lightCandle = document.getElementById("lightCandle");
    const candle = document.getElementById("candle");
    const flame = document.getElementById("flame");
    let cakeVisible = false, flameOn = false;

    lightCandle.addEventListener("click", () => {
      cakeVisible = !cakeVisible;
      cakeSection.style.display = cakeVisible ? "block" : "none";
      if (cakeVisible) cakeSection.scrollIntoView({behavior: "smooth"});
    });

    candle.addEventListener("click", () => {
      flameOn = !flameOn;
      flame.style.display = flameOn ? "block" : "none";
      if (flameOn) {
        for (let i = 0; i < 8; i++) {
          const s = document.createElement("div");
          s.classList.add("sparkle");
          s.style.left = Math.random() * 14 + "px";
          s.style.top = -10 + Math.random() * 20 + "px";
          s.style.animationDelay = (Math.random() * 1) + "s";
          candle.appendChild(s);
        }
        createConfetti();
      } else {
        document.querySelectorAll(".sparkle").forEach(el => el.remove());
      }
    });

    // SPARKLES / CONFETTI
    const sparkles = document.getElementById("sparkles");
    function createConfetti() {
      for (let i = 0; i < 80; i++) {
        const conf = document.createElement("div");
        conf.classList.add("confetti");
        const colors = ["#42a5f5", "#90caf9", "#e3f2fd", "#ffffff", "#bbdefb"];
        conf.style.background = colors[Math.floor(Math.random() * colors.length)];
        conf.style.left = Math.random() * 100 + "vw";
        conf.style.animationDuration = 3 + Math.random() * 2 + "s";
        conf.style.transform = `rotate(${Math.random() * 360}deg)`;
        conf.style.width = 5 + Math.random() * 10 + "px";
        conf.style.height = 5 + Math.random() * 10 + "px";
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 5000);
      }
    }
    sparkles.addEventListener("click", createConfetti);

    // GALLERY
    const galleryCard = document.getElementById("galleryCard");
    const gallerySection = document.getElementById("gallerySection");
    const galleryContainer = document.getElementById("galleryContainer");
    const savedPhotos = JSON.parse(localStorage.getItem("galleryPhotos")) || [];
    const adminPassword = "zia19";
    const uploadLabel = document.getElementById("uploadLabel");
    const saveBtn = document.getElementById("saveBtn");
    const adminLogin = document.getElementById("adminLogin");
    const loginBtn = document.getElementById("loginBtn");
    const fileUpload = document.getElementById("fileUpload");
    const birthdayMusic = document.getElementById("birthdayMusic");
    const playMusicBtn = document.getElementById("playMusicBtn");
    let uploadedPhotos = [];
    let isAdmin = false;

    galleryCard.addEventListener("click", () => {
      gallerySection.classList.toggle("show");
      if (gallerySection.classList.contains("show")) gallerySection.scrollIntoView({behavior:"smooth"});
      birthdayMusic.play().catch(()=>console.log("Music play prevented."));
    });

    function renderGallery() {
      galleryContainer.innerHTML = "";
      savedPhotos.forEach((src,index) => {
        const wrapper = document.createElement("div");
        wrapper.className = "gallery-item";
        const img = document.createElement("img");
        img.src = src;
        img.addEventListener("click", () => {
          document.getElementById("popupImg").src = src;
          document.getElementById("popup").style.display = "flex";
        });
        wrapper.appendChild(img);
        if (isAdmin) {
          const del = document.createElement("button");
          del.textContent = "×"; del.className = "delete-btn";
          del.addEventListener("click", (e) => {
            e.stopPropagation();
            savedPhotos.splice(index, 1);
            localStorage.setItem("galleryPhotos", JSON.stringify(savedPhotos));
            renderGallery();
          });
          wrapper.appendChild(del);
        }
        galleryContainer.appendChild(wrapper);
      });
    }
    renderGallery();

    loginBtn.addEventListener("click", () => {
      const pass = document.getElementById("adminPass").value;
      if (pass === adminPassword) {
        alert("Welcome, Zia!");
        isAdmin = true;
        uploadLabel.style.display = "inline-block";
        saveBtn.style.display = "inline-block";
        adminLogin.style.display = "none";
        renderGallery();
        birthdayMusic.play().catch(()=>console.log("Autoplay prevented by browser"));
      } else alert("Incorrect password!");
    });

    fileUpload.addEventListener("change", (e) => {
      uploadedPhotos = [];
      Array.from(e.target.files).forEach(file => {
        const r = new FileReader();
        r.onload = (ev) => { uploadedPhotos.push(ev.target.result) };
        r.readAsDataURL(file);
      });
    });

    saveBtn.addEventListener("click", () => {
      if (uploadedPhotos.length === 0) { alert("Please upload photos first!"); return; }
      savedPhotos.push(...uploadedPhotos);
      localStorage.setItem("galleryPhotos", JSON.stringify(savedPhotos));
      uploadedPhotos = [];
      fileUpload.value = "";
      alert("Photos saved to gallery!");
      renderGallery();
    });

    document.getElementById("popup").addEventListener("click", () => {
      document.getElementById("popup").style.display = "none";
    });

    // Music autoplay fallback
    window.addEventListener("load", () => {
      birthdayMusic.play().catch(() => {
        playMusicBtn.style.display = "inline-block";
      });
    });

    playMusicBtn.addEventListener("click", () => {
      birthdayMusic.play().then(() => {
        playMusicBtn.style.display = "none";
      }).catch(()=>alert("Music cannot be played due to browser restrictions."));
    });
  </script>
</body>
</html>
